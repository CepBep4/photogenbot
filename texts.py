TEXTS = {
    "ru": {
        "welcome_new": "Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ! Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº:",
        "welcome_back": "Ğ¡ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸ĞµĞ¼! Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ:",
        "send_photo": "ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾",
        "settings": "ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸",
        "language_selected": "Ğ¯Ğ·Ñ‹Ğº Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½! Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ±Ğ¾Ñ‚Ğ°.",
        "profile": "ğŸ‘¤ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ",
        "balance": "ğŸ’° Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ: {balance} ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²",
        "top_up_balance": "ğŸ’³ ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ",
        "change_language": "ğŸŒ Ğ¡Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑĞ·Ñ‹Ğº",
        "back_to_menu": "â¬…ï¸ ĞĞ°Ğ·Ğ°Ğ´ Ğ² Ğ¼ĞµĞ½Ñ",
        "select_new_language": "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑĞ·Ñ‹Ğº:",
        "language_changed": "Ğ¯Ğ·Ñ‹Ğº ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½!",
        "select_payment_method": "ğŸ’³ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ¿Ğ¾ÑĞ¾Ğ± Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹:",
        "yookassa": "ğŸ’³ Ğ®Kassa",
        "card_transfer": "ğŸ¦ ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ñƒ",
        "sbp": "ğŸ“± Ğ¡Ğ‘ĞŸ",
        "enter_amount": "ğŸ’° Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑÑƒĞ¼Ğ¼Ñƒ Ğ¿Ğ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ (Ğ² Ñ€ÑƒĞ±Ğ»ÑÑ…):",
        "amount_error": "âŒ ĞĞµĞ²ĞµÑ€Ğ½Ğ°Ñ ÑÑƒĞ¼Ğ¼Ğ°. Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ñ‡Ğ¸ÑĞ»Ğ¾ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ 0.",
        "payment_processing": "â³ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ°...",
        "back_to_settings": "â¬…ï¸ ĞĞ°Ğ·Ğ°Ğ´ Ğ² Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸",
        "balance_topped_up": "âœ… Ğ‘Ğ°Ğ»Ğ°Ğ½Ñ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ¿Ğ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½ Ğ½Ğ° {amount} Ñ€ÑƒĞ±Ğ»ĞµĞ¹!\nğŸ’° ĞĞ¾Ğ²Ñ‹Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ: {new_balance} ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²",
        "select_template": "ğŸ¨ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ:",
        "template_1": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 1",
        "template_2": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 2",
        "template_3": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 3",
        "template_4": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 4",
        "template_5": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 5",
        "template_6": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 6",
        "template_7": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 7",
        "template_8": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 8",
        "template_9": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 9",
        "template_10": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 10",
        "template_11": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 11",
        "template_12": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 12",
        "template_13": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 13",
        "template_14": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 14",
        "template_15": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 15",
        "template_16": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 16",
        "template_17": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 17",
        "template_18": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 18",
        "template_19": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 19",
        "template_20": "ğŸ“‹ Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½ 20",
        "custom_prompt": "âœï¸ Ğ¡Ğ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚",
        "enter_custom_prompt": "âœï¸ Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ÑĞ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ:",
        "your_prompt": "âœï¸ Ğ’Ğ°Ñˆ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚:\n\n{prompt}\n\nĞ–ĞµĞ»Ğ°ĞµÑ‚Ğµ Ğ»Ğ¸ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ·Ğ° 15 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²?",
        "improve_prompt": "ğŸ”§ Ğ£Ğ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ (15 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²)",
        "keep_my_prompt": "âœ… ĞÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¼Ğ¾Ğ¹",
        "prompt_improved": "ğŸ”§ Ğ’Ğ°Ñˆ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½! Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ¾Ğ½ Ğ·Ğ²ÑƒÑ‡Ğ¸Ñ‚ Ğ±Ğ¾Ğ»ĞµĞµ Ğ¿Ñ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾!",
        "back_to_templates": "â¬…ï¸ ĞĞ°Ğ·Ğ°Ğ´ Ğº ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ°Ğ¼",
        "insufficient_balance": "âŒ ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ°. ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾: 15, Ñƒ Ğ²Ğ°Ñ: {balance}",
        "prompt_improvement_cost": "ğŸ’³ Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚Ğ° ÑÑ‚Ğ¾Ğ¸Ñ‚ 15 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ². Ğ’Ğ°Ñˆ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ: {balance} ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²",
        "send_photo_for_generation": "ğŸ“¸ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ÑŒÑ‚Ğµ Ñ„Ğ¾Ñ‚Ğ¾ Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ:\n\nğŸ’³ Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸: 50 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²\nğŸ’° Ğ’Ğ°Ñˆ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ: {balance} ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²",
        "generation_in_progress": "â³ Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ² Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ...",
        "generation_success": "âœ… Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾!",
        "generation_error": "âŒ ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ĞµÑ‰Ğµ Ñ€Ğ°Ğ·.",
        "try_again": "ğŸ”„ Ğ•Ñ‰Ğµ Ñ€Ğ°Ğ· (50 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²)",
        "send_another_photo": "ğŸ“¸ ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾",
        "menu": "ğŸ  ĞœĞµĞ½Ñ",
        "insufficient_balance_generation": "âŒ ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸. ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾: 50, Ñƒ Ğ²Ğ°Ñ: {balance}",
        "top_up_balance_suggestion": "ğŸ’¡ ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ¼!",
        "generation_cost_info": "ğŸ’³ Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸: 50 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²\nğŸ’° Ğ’Ğ°Ñˆ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ: {balance} ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²",
        "credits_refunded": "ğŸ’° ĞšÑ€ĞµĞ´Ğ¸Ñ‚Ñ‹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ñ‹ Ğ½Ğ° Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ¸Ğ·-Ğ·Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸",
        "insufficient_balance_message": "âŒ ĞĞµĞ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸. ĞĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾: {required}, Ñƒ Ğ²Ğ°Ñ: {balance}",
        "top_up_balance_button": "ğŸ’³ ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ",
        "main_menu_button": "ğŸ  Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ"
    },
    "en": {
        "welcome_new": "Welcome! Choose your language:",
        "welcome_back": "Welcome back! Choose an action:",
        "send_photo": "Send Photo",
        "settings": "Settings",
        "language_selected": "Language selected! Now you can use the bot.",
        "profile": "ğŸ‘¤ User Profile",
        "balance": "ğŸ’° Balance: {balance} credits",
        "top_up_balance": "ğŸ’³ Top Up Balance",
        "change_language": "ğŸŒ Change Language",
        "back_to_menu": "â¬…ï¸ Back to Menu",
        "select_new_language": "Select new language:",
        "language_changed": "Language changed successfully!",
        "select_payment_method": "ğŸ’³ Select payment method:",
        "yookassa": "ğŸ’³ YooKassa",
        "card_transfer": "ğŸ¦ Card Transfer",
        "sbp": "ğŸ“± SBP",
        "enter_amount": "ğŸ’° Enter top-up amount (in rubles):",
        "amount_error": "âŒ Invalid amount. Enter a number greater than 0.",
        "payment_processing": "â³ Processing payment...",
        "back_to_settings": "â¬…ï¸ Back to Settings",
        "balance_topped_up": "âœ… Balance topped up by {amount} rubles!\nğŸ’° New balance: {new_balance} credits",
        "select_template": "ğŸ¨ Select a template for image generation:",
        "template_1": "ğŸ“‹ Template 1",
        "template_2": "ğŸ“‹ Template 2",
        "template_3": "ğŸ“‹ Template 3",
        "template_4": "ğŸ“‹ Template 4",
        "template_5": "ğŸ“‹ Template 5",
        "template_6": "ğŸ“‹ Template 6",
        "template_7": "ğŸ“‹ Template 7",
        "template_8": "ğŸ“‹ Template 8",
        "template_9": "ğŸ“‹ Template 9",
        "template_10": "ğŸ“‹ Template 10",
        "template_11": "ğŸ“‹ Template 11",
        "template_12": "ğŸ“‹ Template 12",
        "template_13": "ğŸ“‹ Template 13",
        "template_14": "ğŸ“‹ Template 14",
        "template_15": "ğŸ“‹ Template 15",
        "template_16": "ğŸ“‹ Template 16",
        "template_17": "ğŸ“‹ Template 17",
        "template_18": "ğŸ“‹ Template 18",
        "template_19": "ğŸ“‹ Template 19",
        "template_20": "ğŸ“‹ Template 20",
        "custom_prompt": "âœï¸ Custom Prompt",
        "enter_custom_prompt": "âœï¸ Enter your custom prompt for image generation:",
        "your_prompt": "âœï¸ Your prompt:\n\n{prompt}\n\nWould you like to improve the prompt for 15 credits?",
        "improve_prompt": "ğŸ”§ Improve Prompt (15 credits)",
        "keep_my_prompt": "âœ… Keep My Prompt",
        "prompt_improved": "ğŸ”§ Your prompt has been improved! Now it sounds more professional!",
        "back_to_templates": "â¬…ï¸ Back to Templates",
        "insufficient_balance": "âŒ Insufficient credits to improve prompt. Required: 15, you have: {balance}",
        "prompt_improvement_cost": "ğŸ’³ Prompt improvement costs 15 credits. Your balance: {balance} credits",
        "send_photo_for_generation": "ğŸ“¸ Send a photo for image generation:\n\nğŸ’³ Generation cost: 50 credits\nğŸ’° Your balance: {balance} credits",
        "generation_in_progress": "â³ Image generation in progress...",
        "generation_success": "âœ… Image generated successfully!",
        "generation_error": "âŒ Error during image generation. Please try again.",
        "try_again": "ğŸ”„ Try Again (50 credits)",
        "send_another_photo": "ğŸ“¸ Send Photo",
        "menu": "ğŸ  Menu",
        "insufficient_balance_generation": "âŒ Insufficient credits for generation. Required: 50, you have: {balance}",
        "top_up_balance_suggestion": "ğŸ’¡ Top up your balance to continue using the bot!",
        "generation_cost_info": "ğŸ’³ Generation cost: 50 credits\nğŸ’° Your balance: {balance} credits",
        "credits_refunded": "ğŸ’° Credits refunded to balance due to generation error",
        "insufficient_balance_message": "âŒ Insufficient credits for operation. Required: {required}, you have: {balance}",
        "top_up_balance_button": "ğŸ’³ Top Up Balance",
        "main_menu_button": "ğŸ  Main Menu"
    }
}

def get_text(language, key, **kwargs):
    text = TEXTS.get(language, TEXTS["ru"]).get(key, key)
    return text.format(**kwargs) if kwargs else text
